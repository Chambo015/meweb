<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeWeb</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/prism.css">
    <script src="js/prism.js" defer></script>
    <link rel="stylesheet" href="css/main.css">
<!--     <script src="js/main.js" defer></script> -->
    <link rel="stylesheet" href="css/hardjs.css">
    <script src="js/hardjs.js" defr></script>
    <link rel="shortcut icon" href="img/logo.svg" type="image/x-icon">
</head>

<body>
    <header>
        <div class="container">
            <div class="top-wrapper">
                <a href="#" class="logo">
                    <svg width='50' height="50" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 506.22 427.25">
                        <defs>
                            <style>
                                .cls-1 {
                                    fill: url(#linear-gradient);
                                }

                                .cls-2 {
                                    fill: url(#linear-gradient-2);
                                }

                                .cls-3 {
                                    fill: url(#linear-gradient-3);
                                }

                                .cls-4 {
                                    fill: url(#linear-gradient-4);
                                }

                                .cls-5 {
                                    fill: url(#linear-gradient-5);
                                }
                            </style>
                            <linearGradient id="linear-gradient" y1="213.62" x2="135.39" y2="213.62"
                                gradientUnits="userSpaceOnUse">
                                <stop offset="0" stop-color="#6cc3f4" />
                                <stop offset="0.32" stop-color="#80abe9" />
                                <stop offset="0.65" stop-color="#b26dcd" />
                                <stop offset="1" stop-color="#fa15a6" />
                            </linearGradient>
                            <linearGradient id="linear-gradient-2" x1="191.87" y1="273.21" x2="319.94" y2="273.21"
                                xlink:href="#linear-gradient" />
                            <linearGradient id="linear-gradient-3" x1="113.02" y1="213.84" x2="214.34" y2="213.84"
                                gradientUnits="userSpaceOnUse">
                                <stop offset="0" stop-color="#572eff" />
                                <stop offset="0.21" stop-color="#493ad8" />
                                <stop offset="0.52" stop-color="#364ca0" />
                                <stop offset="0.7" stop-color="#414e81" />
                                <stop offset="1" stop-color="#515151" />
                            </linearGradient>
                            <linearGradient id="linear-gradient-4" x1="394.18" y1="320.84" x2="506.22" y2="320.84"
                                xlink:href="#linear-gradient" />
                            <linearGradient id="linear-gradient-5" x1="305.74" y1="272.07" x2="409.24" y2="272.07"
                                xlink:href="#linear-gradient-3" />
                        </defs>
                        <g id="Layer_2" data-name="Layer 2">
                            <g id="Layer_1-2" data-name="Layer 1">
                                <path class="cls-1"
                                    d="M113,199.76c-1.38,4.84-.68,9.87-1.49,14.79-1.42,8.59-2.06,17.28-3.35,25.9-1,6.59-1.14,13.39-1.86,20.08q-2.77,25.67-5.58,51.32-2.49,22.88-5,45.74c-1,9.3-1.61,18.68-3.19,27.88-2,11.67-6.22,22.56-15.33,30.72-9.39,8.42-20.57,11.73-33.14,10.94-11.16-.7-21.14-4.43-29.06-12.2C3.74,403.85-1.57,390.43.4,374.28c2.81-23,5.13-46.08,7.72-69.12,2.09-18.46,4.34-36.9,6.39-55.36,1.66-15,3.08-30,4.73-45,1.61-14.6,3.42-29.17,5.05-43.77,1.39-12.38,2.62-24.78,4-37.17,1.31-12,2.8-24,4-36a107.26,107.26,0,0,1,8-32.17A109.27,109.27,0,0,1,51.56,36.34C63.67,19.13,80.48,8.83,100.32,3.09c10.47-3,21.27-3.48,32.14-2.84,3.37.2,2.78,2.48,2.93,4.51-2.47,1.89-1.2,4.67-1.49,7-1.37,10.82-2.47,21.68-3.65,32.53-1.12,10.25-2.18,20.5-3.33,30.74-1.34,12-2.82,23.91-4.12,35.88-1.4,12.84-2.39,25.73-4.07,38.53C116.53,166.18,115,183,113,199.76Z" />
                                <path class="cls-2"
                                    d="M305.79,259.42c-2,4.95-1.44,10.27-2.2,15.4-.88,5.91-.88,11.95-1.81,17.84-2.51,16-3.52,32.11-5,48.19-2.18,23-11.22,42.79-27.69,58.77-18.72,18.16-41.43,27.11-67.7,26.44Q198,426,194.61,426c-2.08,0-3-1-2.68-3.05a5.06,5.06,0,0,0,1.22-3.06c.72-6.29,1.54-12.57,2.18-18.87.92-9,1.44-18.08,2.62-27.06,1.45-11.08,2.4-22.2,4-33.27,1.87-12.75,2.66-25.66,4.11-38.49,2.37-21,5-41.93,7.24-62.93.45-4.11,1.87-8.33.25-12.53,2.84-2.61,1.77-6.25,2-9.33,1.65-17.9,4.64-35.38,13.87-51.18A88.93,88.93,0,0,1,242,149.9c20.43-21.46,45.68-30.68,75-29.46,1.14,0,2.66-.46,2.95,1.43-.74,6.66-1.5,13.33-2.22,20q-1.65,15.21-3.24,30.41-1.78,16.86-3.55,33.71c-.9,8.53-1.88,17-2.71,25.58C307.32,240.84,305.39,250,305.79,259.42Z" />
                                <path class="cls-3"
                                    d="M213.58,226.71c1.62,4.2.2,8.42-.25,12.53-2.26,21-4.87,41.95-7.24,62.93-1.45,12.83-2.24,25.74-4.11,38.49-1.63,11.07-2.58,22.19-4,33.27-1.18,9-1.7,18-2.62,27.06-.64,6.3-1.46,12.58-2.18,18.87a5.06,5.06,0,0,1-1.22,3.06q-11.24-31.73-22.45-63.46Q141.54,280,113.64,200.59a3.66,3.66,0,0,0-.62-.83c2-16.76,3.51-33.58,5.71-50.32,1.68-12.8,2.67-25.69,4.07-38.53,1.3-12,2.78-23.92,4.12-35.88,1.15-10.24,2.21-20.49,3.33-30.74,1.18-10.85,2.28-21.71,3.65-32.53.29-2.33-1-5.11,1.49-7q6.41,18,12.82,35.9,6.12,17.3,12.18,34.61,18.65,53,37.3,106.09Q205.66,204,213.58,226.71Z" />
                                <path class="cls-4"
                                    d="M409.24,286.58c1.87-8.16,2.17-16.5,3-24.78,1.94-20,13.49-36.55,32.73-42.83,14.25-4.66,28.59-2.7,40.73,6.08,7,5.08,13.63,11.33,16.63,20.5,2.61,8,4.7,15.66,3.63,24.15-2.17,17.24-4,34.53-5.94,51.81-1.06,9.53-1.82,19.09-3.73,28.52a91.6,91.6,0,0,1-14.47,34.54c-15.57,22.34-36.45,36.16-63.71,39.92-7.11,1-14.19.61-21.29.61-2,0-2.63-1.07-2.61-2.83,1-7.88,2.05-15.75,2.94-23.64,1.34-11.73,2.53-23.47,3.83-35.2q2.21-19.81,4.51-39.62c.52-4.44.2-9,1-13.3A157.07,157.07,0,0,0,409.24,286.58Z" />
                                <path class="cls-5"
                                    d="M409.24,286.58a157.07,157.07,0,0,1-2.77,23.93c-.81,4.26-.49,8.86-1,13.3q-2.32,19.8-4.51,39.62c-1.3,11.73-2.49,23.47-3.83,35.2-.89,7.89-1.95,15.76-2.94,23.64-14.37-26.47-28.68-53-43.15-79.38-14.79-27-28.95-54.34-44.2-81.09a22,22,0,0,1-1-2.38c-.4-9.39,1.53-18.58,2.43-27.86.83-8.54,1.81-17.05,2.71-25.58q1.79-16.86,3.55-33.71,1.61-15.21,3.24-30.41c.72-6.66,1.48-13.33,2.22-20,1.6.69,2.4,2.1,3.17,3.54L342.2,161.1Q375.73,223.83,409.24,286.58Z" />
                            </g>
                        </g>
                    </svg>
                    <h1>ME<span>WEB</span></h1>
                </a>
                <nav>
                    <ul>
                        <li><a href="#">Главная</a></li>
                        <li><a href="#">Задачи</a></li>
                        <li><a href="#">В работе</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <section class="home">
        <div class="container">
            <div class="hard-js">
                <h1 class="open-scheduling">Планирование: setTimeout и setInterval</h1>
                <div class="child scheduling hide">
                    <p class="content-text">Мы можем вызвать функцию не в данный момент, а позже, через заданный
                        интервал времени. Это называется «планирование
                        вызова».</p>

                    <p class="content-text"><b>setTimeout</b> позволяет вызвать функцию <b>один раз</b> через
                        определённый интервал времени.</p>

                    <pre><code class="language-js">function sayHi() {
    alert('Привет');
}
                  
setTimeout(sayHi, 1000); // данный код вызывает sayHi() спустя одну секунду:</code></pre>

                    <p class="content-text"><b>setInterval</b> позволяет вызывать функцию <b>регулярно</b>, повторяя
                        вызов через определённый интервал времени</p>
                    <pre><code class="language-js">setInterval(sayHi, 2000); // повторить с интервалом 2 секунды</code></pre>

                    <h2>Отмена через clearTimeout и clearInterval</h2>
                    <p class="content-text">Вызов <b>setTimeout</b> возвращает «идентификатор таймера» timerId, который можно использовать для отмены дальнейшего выполнения.</p>
                    <pre><code class="language-js">let timerId = setTimeout(() => {/* какой то код */}, 1000);
let intervalId = setInterval(() => {/* какой то код */}, 1000);

clearInterval(intervalId)
clearTimeout(timerId) </code></pre>
                    <h2>Рекурсивный вызов setTimeout</h2>
                    <p class="content-text">Например мы хоти вызывать Функцию каждые 500мс и мы можем использовать <b>setInterval()</b>, но реальная задержка между вызовами func с помощью setInterval меньше, чем указано. И это нормально ведь setInterval не ждет когда закончится выполнение function.</p> <p class="content-text">И если для выполнение function потребуется больше 500мс , в данном случае движок ждёт окончания выполнения function и затем проверяет планировщик и, если время истекло, немедленно запускает его снова, следовательно  вызовы будут выполняться без задержек вообще. </p>
                    <h3>Рекурсивный setTimeout гарантирует фиксированную задержку:</h3>
                    <pre><code class="language-js"> let id = setTimeout(function runBigCode() {
    /* Тут выполняется какой то код */;
    // следующий отсчет 500мс пойдет только после выполнения выше написанных кодов
    id = setTimeout(runBigCode, 500)
}, 500);</code></pre>

                    <h2>Анимация с помощью setTimeout</h2>
                    <p class="content-text"> Создадим функцию которая будет перемешать Синий квадрат в нижний правый угол. А именно будем добавлять css свойства: top и left.
                       
                    </p>
                    <pre class="language-js"><code>let pos = 0; // Начальные координаты top и left
let id = setInterval(frame, 10); // функция frame, которая увеличивает top и left на один px, вызывается каждые 10мс

function frame() {
    if (pos === 300) { // Если top и left равны 300, то мы отменяем Interval
        clearInterval(id)
    } else {
        pos++; // 
        box.style.top = pos + "px";
        box.style.left = pos + "px";
    }
}</code></pre>
                    <button class="btn">Animation</button>
                    <div class="box-wrapper">
                        <div class="box"></div>
                    </div>
                    

                </div>
                <!-- /.scheduling -->
                <h1 class="open-date">Дата и время new Date()</h1>
                <div class="child date hide">
                    <p class="conent-text"> <strong>new Date()</strong> возвращает текущую дату, если параметры не указаны</p>
                    <pre><code class="language-js">let now = new Date();
console.log(now) // Mon Jul 26 2021 14:40:44 GMT+0600 (Восточный Казахстан) </code></pre>
<p class="conent-text">Задать определенную дату можно в параметрах. Например <b>new Date("2012-01-26")</b> или <b>new Date(2012, 0, 26)</b> и если мы не укажем часы то по умолчанию будет полночь по Гринвичу. </p>
<p class="content-text"><b>Обратите внимание:</b> если функция Date вызывается в качестве конструктора с более, чем одним аргументом, значения, большие
логического диапазона (например, 13 в качестве номера месяца или 70 для значения минут) «переметнутся» на соседние
значения. Например, вызов <b>Date(2013, 13, 1)</b>  эквивалентен вызову <b>new Date(2014, 1, 1)</b>,</p>
<pre><code class="language-js">let date = new Date("2012-01-26");
console.log(date) //Thu Jan 26 2012 06:00:00 GMT+0600 (Восточный Казахстан)
// Так как я живу в Нур-Султане у меня время по умолчанию будет 06 часов утра
</code></pre>
<p class="conent-text">У объекта new Date() есть много методов, в основном эти методы <b>set</b> и <b>get</b>, соответственно одни помогают установить время, а другие получить</p>
<ul>
    <li><h3>Получение компонентов даты</h3>
    <pre><code class="language-js">let now = new Date();
// get методы возвращают number
now.getFullYear() // Получить год(4 цифры)
now.getMonth() // Получить месяц, от 0 до 11.
now.getDate() // Получить день месяца, от 1 до 31, что несколько противоречит названию метода.
now.getHours() // Получить, соответственно, часы 0 - 23 
now.getUTCHours() // Получить лондонское время
now.getMinutes() // Получить минуты
now.getSeconds() // Получить секунды
now.getMilliseconds() // Получить, соответственно,  миллисекунды.
now.getDay() // Вернуть день недели от 0(воскресенье) до 6(суббота).

getTime() Для заданной даты возвращает таймстамп – количество миллисекунд, прошедших с 1 января 1970 года UTC+0.</code></pre></li>
<li><h3>Установка компонентов даты</h3>
<pre><code class="language-js">let now = new Date();
// До set
    console.log(now) // Mon Jul 26 2021 15:45:24 GMT+0600 (Восточный Казахстан)

now.setFullYear(2010) // можно установить сразу (год, [месяц], [дата])
now.setMonth(8) // можно установить сразу (month, [date]) и запомните месяца идут от 0 до 11
now.setDate(19) // а вот даты месяца, как обычно с 1 до 31
now.setHours(18) // можно установить сразу (час, [минуту], [секунду], [миллисекунды])
now.setMinutes(30) // можно установить сразу (min, [sec], [ms])
now.setSeconds(25) // можно установить сразу (sec, [ms])
now.setMilliseconds(1000) // в 1с 1000мс

// После set
    console.log(now) // Mon Jul 19 2010 18:30:26 GMT+0600 (Восточный Казахстан)

setTime(milliseconds) (устанавливает дату в виде целого количества миллисекунд, прошедших с 01.01.1970 UTC) </code></pre></li>
</ul>
<h2>Разность между датами возвращает миллисекунды</h2>
<p>Если объект <b>Date</b> преобразовать в число, то получим таймстамп (количество мс прошедших с 01.01.1970 UTC) по аналогии с date.getTime().</p>
<pre><code class="language-js">let now = new Date();
console.log(+now); // 1627294248404 Количество мс прошедших с 01.01.1970 UTC</code></pre>
<p>Если нужно просто измерить время, объект Date нам не нужен. Существует особый метод <b>Date.now()</b>, возвращающий текущую метку времени. Хотя это тоже самое что и <b>new Date().getTime()</b></p>
<p>Сделаем Бенчмаркинг узнаем как быстро работает наш цикл.</p>
<pre><code class="language-js">let start = new Date(); // начинаем отсчёт времени

for (let i = 0; i < 100000; i++) { 
    let some=i ** 3 
} 

let end = new Date(); // заканчиваем отсчёт времени 
console.log(`Цикл отработал за ${end - start} миллисекунд`); // Цикл отработал за 8 миллисекунд</code></pre>

<h2>Осталось до конца акции</h2>
<p>Наверное вы часто видели на сайтах таймеры обратного отсчета, что то типа отсчет до конца Акции или какого нибудь События. Давайте сделаем свой <b>Таймер обратного отсчета</b>. Наш таймер будет считать дни до нового года .</p>

<pre><code class="language-js">// Текущий год + 1
let newYear = new Date().getFullYear() + 1;</code></pre>

<p>Для начала мы должны получить разницу между началом нового года и текущей даты </p>
<pre><code class="language-js">// Date.parse("date") - принимает дату в виде строки и возвращает мс от 1970г до "date" указанная в параметрах.
// Date.now() - возвращает мс от 1970г до текущего времени
    const t = Date.parse(`01 Jan ${newYear} 00:00:00`) - Date.now();</code></pre>

    <p>Далее у нас Математика. Сколько мс в одном дне(24ч) = 1000 * 60 * 60 * 24. Теперь чтобы получить количество дней нам надо полученные мс разделить на (1000 * 60 * 60 * 24) </p>
<pre><code class="language-js">let days = Math.floor(t / (1000 * 60 * 60 * 24)); 
    // Да и не забываем округлять до целого числа в меньшую сторону Math.floor()</code></pre>
    
    <p>Далее еще сложней, у нас пошли часы. Дней мы можем получить в любом количестве, а вот часы не должны превышать 23, и тут мы обращаемся к <b>ЛОГИЧЕСКИМ ОПЕРАТОРАМ</b>, а именно Взятие остатка <b>%</b>. Например у нас осталось 58 часов, мы получим 2 дня и 10 часов ( 50 % 24 == 10 (хвостик) )</p> 
<pre><code class="language-js">let hours = Math.floor( (t / (1000 * 60 * 60)) % 24) </code></pre>

<p>Далее минуты и секунды, и тут так же только хвост берем от %60</p>
<pre><code class="language-js">let minutes = Math.floor((t / (1000 * 60)) % 60);
let seconds = Math.floor((t / 1000) % 60);</code></pre>

<P>Теперь давайте все полученные данные для таймера будем получать как объект</P>
<pre><code class="language-js">let newYear = new Date().getFullYear() + 1;

function getTimeRemaining(endTime) {
    const t = Date.parse(endTime) - Date.now();

    let days = Math.floor(t / (1000 * 60 * 60 * 24));
    let hours = Math.floor((t / (1000 * 60 * 60)) % 24);
    let minutes = Math.floor((t / (1000 * 60)) % 60);
    let seconds = Math.floor((t / 1000) % 60);

    return {
        'total': t,
        'days': days,
        'hours': hours,
        'minutes': minutes,
        'seconds': seconds,
    }
}</code></pre>
<p>Теперь давайте установим наш таймер. Сперва найдем каждый селектор, а дальше создадим функцию обновления данных таймера. После создадим интервал для обновления таймера каждую секунду. И в завершении сделаем остановку таймера при наступлении newYear</p>
<pre><code class="language-js">// Обертка нашего таймера передается параметром <b>selector</b>, а наш newYear в <b>endTime</b>
function setClock(selector, endTime) {
    const timer = document.querySelector(selector),
        days = timer.querySelector("#days"),
        hours = timer.querySelector("#hours"),
        minutes = timer.querySelector("#minutes"),
        seconds = timer.querySelector("#seconds");

    // интервал который будет перезаписывать данные таймера каждую секунду
    const timeInterval = setInterval(updateClock, 1000)

    function updateClock() {
        // Наша функция возвращает в переменную t объект
        const t = getTimeRemaining(endTime);

        days.innerHTML = t.days;
        hours.innerHTML = t.hours;
        minutes.innerHTML = t.minutes;
        seconds.innerHTML = t.seconds;

        // Если мс до newYear <= 0, то отключаем наш интервал 
        if (t.total <=0) { 
            clearInterval(updateClock);
        }
    }  
}</code></pre>
<p>Добавляем 0 к часам, минутам, секундам если они меньше 10, то есть 09 ч 08 м 03 с </p>
<pre><code class="language-js">function setZero(num) {
    if (num < 10) { 
        return `0${num}`; 
    } else { 
        return num 
    } 
}</code></pre>
<p>Итоговый код таймера по ссылке: <span class="code_newyear">code</span> </p> 

<div class="promotion">


        <div class="promotion__timer">
            <div class="title">До нового года осталось:</div>
            <div class="timer">
                <div class="timer__block">
                    <span id="days">12</span>
                    дней
                </div>
                <div class="timer__block">
                    <span id="hours">20</span>
                    часов
                </div>
                <div class="timer__block">
                    <span id="minutes">56</span>
                    минут
                </div>
                <div class="timer__block">
                    <span id="seconds">20</span>
                    секунд
                </div>
            </div>
        </div>
    
</div>
                </div>
                <!-- /.date -->
            </div>
            
        </div>
    </section>


    <footer class="footer">
        <div class="container">
            <div class="abot-me">
                <h3>ERA AISAHANOV</h3>
                <p>Frontend Developer</p>
            </div>
            <div class="social-links">
                <a href="">
                    <svg class="icon">
                        <use xlink:href="img/icons.svg#vk-social-logotype"></use>
                    </svg>
                </a>
                <a href="">
                    <svg class="icon">
                        <use xlink:href="img/icons.svg#telegram"></use>
                    </svg>
                </a>
                <a href="">
                    <svg class="icon">
                        <use xlink:href="img/icons.svg#email"></use>
                    </svg>
                </a>
            </div>
        </div>
    </footer>
</body>

</html>